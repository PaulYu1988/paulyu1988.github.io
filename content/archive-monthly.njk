---js
const pagination = {
	data: 'collections.postsByYearMonthPages',
	size: 1,
	alias: 'ymGroup'
}

const eleventyComputed = {
	permalink : function (data) {
      if (data.ymGroup.pageNumber == 1) {
        return `/archive/${data.ymGroup.code}/`;
      } else {
        return `/archive/${data.ymGroup.code}/page/${data.ymGroup.pageNumber}/`;
      }
    }
}
---

<h1>{{ ymGroup.yearMonth | yearFromYearMonth }} 年 {{ ymGroup.yearMonth | monthFromYearMonth }} 月 归档</h1>

<ul class="archive-post-list">
  {% for post in ymGroup.posts %}
    <li>
      <a href="{{ post.url }}">{{ post.data.title or post.url }}</a>
      <time datetime="{{ post.date | htmlDateString }}">{{ post.date | readableDate }}</time>
    </li>
  {% endfor %}
</ul>

{% if ymGroup.pageCount > 1 %}
		<nav aria-label="Page navigation example">
			<ul class="pagination">
			{% if ymGroup.pageNumber > 1 %}
				<li class="page-item">
					<a class="page-link" href="" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<a class="page-link" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
					</a>
				</li>
			{% endif %}
			{% for i in range(1, ymGroup.pageCount + 1) %}
				{% if i == ymGroup.pageNumber %}
					<li class="page-item active">
						<a class="page-link" href="#" aria-current="page">{{ i }}</a>
					</li>
				{% else %}
					{% if(i == 1) %}
						<li class="page-item"><a class="page-link" href="/archive/{{ ymGroup.code }}/">{{ i }}</a></li>
					{% else %}
						<li class="page-item"><a class="page-link" href="/archive/{{ ymGroup.code }}/page/{{ i }}/">{{ i }}</a></li>
					{% endif %}
				{% endif %}
			{% endfor %}
			
			{% if ymGroup.pageNumber < ymGroup.pageCount %}
				<li class="page-item">
					<a class="page-link" href="" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<a class="page-link" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
					</a>
				</li>
			{% endif %}
			</ul>
		</nav>
	{% endif%}