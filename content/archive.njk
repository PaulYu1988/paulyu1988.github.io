---js
const eleventyNavigation = {
	key: "Archive",
	order: 2
};
const pagination = {
	data: 'collections.posts',
	size: 10,
	alias: 'postsOnPage'
}
const eleventyComputed = {
	permalink : function (data) {
      return data.pagination.pageNumber === 0
        ? "/archive/"
        : `/archive/page/${data.pagination.pageNumber + 1}/`;
    }
}
---

<div class="row">
	<div class="col-lg-9">
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="#">Home</a></li>
			<li class="breadcrumb-item active" aria-current="page">Archive</li>
		</ol>
	</nav>
	{% set postslist = postsOnPage %}
	{% include "postslist.njk" %}
	{% if pagination.pages | length > 1 %}
		<nav aria-label="Page navigation example">
			<ul class="pagination">
			{% if pagination.pageNumber > 0 %}
				<li class="page-item">
					<a class="page-link" href="{{ pagination.hrefs[pagination.pageNumber - 1] }}" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<a class="page-link" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
					</a>
				</li>
			{% endif %}
			{% for page in pagination.pages %}
				{% set idx = loop.index0 %}
				{% if idx == pagination.pageNumber %}
					<li class="page-item active">
						<a class="page-link" href="#" aria-current="page">{{ idx + 1 }}</a>
					</li>
				{% else %}
					<li class="page-item"><a class="page-link" href="{{ pagination.hrefs[idx] }}">{{ idx + 1 }}</a></li>
				{% endif %}
			{% endfor %}
			{% if pagination.pageNumber + 1 < pagination.pages | length %}
				<li class="page-item">
					<a class="page-link" href="{{ pagination.hrefs[pagination.pageNumber + 1] }}" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<a class="page-link" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
					</a>
				</li>
			{% endif %}
			</ul>
		</nav>
	{% endif%}
	</div>
	<div class="col-lg-3">
		<div class="mb-4">
			<h3 class="fs-6 pb-2 mb-3 border-bottom"><i class="bi bi-archive"></i> Monthly Archives</h3>
			<ul class="m-0 p-0">
				<li class="d-flex justify-content-between align-items-center mb-2">
						<a href="/archive/">
							All
						</a>
						<span class="badge text-bg-light">{{ collections.posts.length }}</span>
				</li>
				{% for item in collections.postsByYearMonth %}
					{% set ym = item.yearMonth %}
					{% set year = ym | yearFromYearMonth %}
					{% set month = ym | monthFromYearMonth %}
					<li class="d-flex justify-content-between align-items-center mb-2">
						<a class="text-secondary" href="/archive/{{ year }}{{ month }}/">
							{{ item.date | readableDate("LLLL yyyy") }}
						</a>
						<span class="badge text-bg-light">{{ item.posts.length }}</span>
					</li>
				{% endfor %}
			</ul>
		</div>
	</div>
</div>
